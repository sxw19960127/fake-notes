# 组件化

组件化是`Vue.js`中的重要思想：它提供了一种抽象，让我们可以开发出一个个独立可复用的小组件来构造我们的应用，并且任何的应用都会被抽象成一颗组件树。

![组件树](C:\Users\lenovo\Desktop\2019年11月19日始\notes\Vue\img\组件树.png)

组件化思想的优势：

- 有了组件化思想，我们在之后的开发中就要充分地利用它；

- 经可能地将页面拆分成一个个小的、可复用的组件；

- 让代码更加方便组织和管理，并且扩展性也更强；

组件的使用分成三个步骤：

1. 创建组件构造器；（调用`Vue.extend()`方法创建组件构造器）

2. 注册组件；（调用`Vue.component()`方法注册组件）

3. 使用组件；（在`Vue`实例的作用范围内使用组件）

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      <!-- 3.使用全局组件 -->
      <!-- <my-component></my-component> -->
      <!-- 4.使用局部组件 -->
      <partcomponent></partcomponent>
   </div>
   <script>
      // 1.创建组件构造器
      const myComponent = Vue.extend({
         template: `
            <div>
               <h1>我是标题</h1>
               <p>我是内容</p>
            </div>
         `
      })
      // 2.1 注册全局组件(可以在多个Vue实例下面进行使用),并定义组件标签名称
      // Vue.component('my-component', myComponent)
      const app = new Vue({
         el: '#app',
         // 2.2 注册局部组件,并定义组件标签名称
         components: {
            // 关于对象中的键值对有时分不清含义,一般都是将值赋给键,也就是 myComponent(值)一般是所要展示的内容,partcomponent(键)用于展示值内容的名称
            partcomponent: myComponent
         }
      })
   </script>
</body>
</html>
```

解读：

- 调用`Vue.extend()`创建的是一个组件构造器。

  通常在创建组件构造器时，传入的`template`代表我们自定义组件的模板。该模板就是在使用组件的地方，要显示的`html`代码。

  事实上，这种写法在`Vue2.x`的文档中已经看不到了，它会使用简便的语法糖去替换，但是在很多资料里还是会提到这种方式。

- 调用`Vue.component()`是将刚才的组件构造器注册为一个组件，并且给它起一个组件的标签名称。

  需要传递两个参数：注册组件的标签名和组件构造器。

- 组件必须挂载在某个`Vue`实例下，否则不会生效。

