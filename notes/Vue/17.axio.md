# 网络模块封装

`Vue`发送网络请求有非常多的方式：

- 选择一：传统的`Ajax`是基于`XMLHttpRequest(XHR)`，使用配置和调试方式非常混乱，编码起来不自然，真实开发中很少直接使用。
- 选择二：之前我们会经常使用`jQuery-Ajax`，相对于传统的`Ajax`来说是非常好使用的，但是我们在`Vue`的整个开发中已经不再使用`jQuery`了，并且`jQuery`代码有一万行，而`Vue`的代码总共也才一万行，完全没有必要因为网络请求而去使用这个重量级的框架。
- 选择三：官方在`Vue1.x`的时候，推出了`Vue-resource`，其相对于`jQuery`的体积小很多，并且是`Vue-resource`官方推出的。然而在`Vue2.0`推出后，`Vue`的作者就在`Github`的`issues`中说明了要去掉`Vue-resource`，并且以后也不会再更新了。那么也就意味着以后的`Vue-resource`不再支持新的版本，对以后的项目开发和维护都存在很大的隐患。
- 选择四：在说明不再继续更新和维护`Vue-resource`的同时，作者还推荐了一个框架`axios`，其优点非常多。

`axios`功能特点：

- 在浏览器中发送`XMLHttpRequests`请求
- 在`node`中发送`http`请求
- 支持`Promise API`
- 拦截请求和响应
- 转换请求和响应数据

![jsonp](C:\Users\lenovo\Desktop\2019年11月19日始\notes\Vue\img\jsonp.jpg)

![jsonp封装](C:\Users\lenovo\Desktop\2019年11月19日始\notes\Vue\img\jsonp封装.jpg)

# `axios`

```shell
// 下载
npm install axios --save
```

![axios](C:\Users\lenovo\Desktop\2019年11月19日始\notes\Vue\img\axios.jpg)

# `axios`发送并发请求

```js
axios.all([axios({}), axios({})]).then()

axios.all([axios({
  url: 'http://123.207.32.32:8000/home/multidata'
}),axios({
  url: 'http://123.207.32.32:8000/home/multidata',
  params: {
    type: 'sell',
    page: 3
  }
})]).then(result => {
        console.log(result)
     })
```

# 数组的解构

```js
const names = ['a','b','c']
const [name1,name2,name3] = names;
```



