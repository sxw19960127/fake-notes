# `v-model`双向数据绑定

基本用法：

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      <input type="text" v-model="message" />
      <h1>{{ message }}</h1>
   </div>
   <script>
      const app = new Vue({
         el: '#app',
         data: {
            message: 'sxw'
         }
      })
   </script>
</body>
</html>
```

原理分析：其实`v-model`是`v-bind`和`v-on`指令的结合！

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      <input type="text" v-bind:value="message" v-on:input="valueChange" />
      <h1>{{ message }}</h1>
   </div>
   <script>
      const app = new Vue({
         el: '#app',
         data: {
            message: 'sxw'
         },
         methods: {
            valueChange(event) {
               this.message = event.target.value
            }
         }
      })
   </script>
</body>
</html>
```

简化上述代码：

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      <input type="text" v-bind:value="message" v-on:input="message = $event.target.value" />
      <h1>{{ message }}</h1>
   </div>
   <script>
      const app = new Vue({
         el: '#app',
         data: {
            message: 'sxw'
         }
      })
   </script>
</body>
</html>
```



`v-model`结合`radio`类型的使用：

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      <label for="male">
         <!-- name属性值相同,保证了单选的互斥 -->
         <!-- 注意: 当 input 中加上了属性 v-model 之后,我们也可以省略 name ,来实现单选互斥的效果 -->
         <input id="male" type="radio" name="sex" value="男" v-model="sex">男
      </label>
      <label for="female">
         <input id="female" type="radio" name="sex" value="女" v-model="sex">女
      </label>
      <h1>{{ sex }}</h1>
   </div>
   <script>
      const app = new Vue({
         el: '#app',
         data: {
            message: 'sxw',
            sex: '女'
         }
      })
   </script>
</body>
</html>
```

`v-model`结合`checkbox`类型的使用：

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      <label for="agree">
         <input type="checkbox" id="agree" v-model="isAgree" />同意
      </label>
      <button :disabled="!isAgree">下一步</button>

      <h1>{{ isAgree }}</h1>
   </div>
   <script>
      const app = new Vue({
         el: '#app',
         data: {
            isAgree: false
         }
      })
   </script>
</body>
</html>
```

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      <input type="checkbox" value="篮球" v-model="hobby" />篮球
      <input type="checkbox" value="足球" v-model="hobby" />足球
      <input type="checkbox" value="水球" v-model="hobby" />水球
      <input type="checkbox" value="台球" v-model="hobby" />台球
      <input type="checkbox" value="溜溜球" v-model="hobby" />溜溜球

      <h1>{{ hobby }}</h1>
   </div>
   <script>
      const app = new Vue({
         el: '#app',
         data: {
            hobby: []
         }
      })
   </script>
</body>
</html>
```

`v-model`结合`select`类型的使用：

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      <select name="abc" id="" v-model="fruit">
         <option value="苹果">苹果</option>
         <option value="西瓜">西瓜</option>
         <option value="香蕉">香蕉</option>
         <option value="葡萄">葡萄</option>
      </select>
      <h1>{{ fruit }}</h1>
   </div>
   <script>
      const app = new Vue({
         el: '#app',
         data: {
            fruit: '西瓜'
         }
      })
   </script>
</body>
</html>
```

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      // 选择多个需要加上 multiple 属性
      <select name="abc" id="" v-model="fruit" multiple>
         <option value="苹果">苹果</option>
         <option value="西瓜">西瓜</option>
         <option value="香蕉">香蕉</option>
         <option value="葡萄">葡萄</option>
      </select>
      <h1>{{ fruit }}</h1>
   </div>
   <script>
      const app = new Vue({
         el: '#app',
         data: {
            fruit: []
         }
      })
   </script>
</body>
</html>
```



值绑定：在正常开发中，数值一般都不是被写死的。

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      <label v-for="item in fruits" :for="item">
         <input type="text" :id="item" :value="item" />{{ item }}
         <!-- <input type="text" :id="item" v-model="select" />{{ item }} -->
      </label>
      <h1>{{ select }}</h1>
   </div>
   <script>
      const app = new Vue({
         el: '#app',
         data: {
            fruits: ['西瓜','香蕉','苹果'],
            select: []
         }
      })
   </script>
</body>
</html>
```



# 修饰符

## `lazy`修饰符

解决双向数据绑定更新速度过于频繁的问题。添加`.lazy`修饰符之后，只在敲击回车键或者输入框失去焦点的时候，页面才会重新渲染。

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      <input type="text" v-model.lazy="msg">
      <h1>{{ msg }}</h1>
   </div>
   <script>
      const app = new Vue({
         el: '#app',
         data: {
            msg: 'sxw'
         }
      })
   </script>
</body>
</html>
```

## `number`修饰符

默认情况下，在输入框中无论我们输入的是数字还是字母，都会被浏览器解析成字符串类型进行处理。但是如果我们希望处理的是数字类型，那么最好直接将内容作为数字进行输出。

`number`修饰符可以让输入框中输入的内容转换为数字类型。

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      <input type="number" v-model.number="age" />
      <h1>{{ age }} - {{ typeof age }}</h1>
   </div>
   <script>
      const app = new Vue({
         el: '#app',
         data: {
            age: 0
         }
      })
   </script>
</body>
</html>
```

## `trim`修饰符

用于过滤内容左右两边的空格。

```html
<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
   <script src="./vue.js"></script>
</head>
<body>
   <div id="app">
      <input type="text" v-model.trim="name" />
   </div>
   <script>
      const app = new Vue({
         el: '#app',
         data: {
            name: ''
         }
      })
   </script>
</body>
</html>
```









