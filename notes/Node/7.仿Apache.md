#### 仿`Apache`简易`demo`

```javascript
var http = require('http');
var fs = require('fs');
var server = http.createServer();
var wwwDir = 'c:/app/www' // 将`根路径`抽离出来,方便修改

server.on('request', function(req,res) {
	console.log(req.url);
	
	var url = req.url;
	if(url === '/') {
		fs.readFile(wwwDir + '/index.html', function(err, data) {
			if(err) {
				// `return`有两个作用:
					// 1.方法返回值;
					// 2.阻止代码继续往后执行;
					// 这里使用`return`之后,连`else`都不用写了;
				return res.end('404 Not Found.')
			}
			res.end(data)
		})
	}else if(url === '/a.txt') {
        fs.readFile(wwwDir + '/a.txt', function(err, data) {
            if(err) {
                return res.end('404 Not Found.')
            }
            res.end(data)
    	})
	}else if(url === '/index.html') {
		fs.readFile(wwwDir + '/index.html', function(err, data) {
            if(err) {
                return res.end('404 Not Found.')
            }
            res.end(data)
    	})
	}else if(url === '/apple/login.html') {
		fs.readFile(wwwDir + '/apple/login.html', function(err, data) {
            if(err) {
                return res.end('404 Not Found.')
            }
            res.end(data)
    	})
	}
})

server.listen(3000, function() {
	console.log('running...')
})
```

**简化**：

```javascript
var http = require('http');
var fs = require('fs');
var server = http.createServer();
var wwwDir = 'c:/app/www';

server.on('request', function(req,res) {
	console.log(req.url) 
	var url = req.url; // 此处的`url`就是 / /a.html /a.txt这些路径

	// /  --->  index.html
	// /a.txt  --->  www.Dir + /a.txt
	// /apple/login.html  --->  www.Dir + /apple/login.html
	// /img/ab1.jpg  --->   www.Dir + /img/ab1.jpg
    // 发现规律！
---------------------------------------------------------------
	var firlPath = '/index.html'
	if(url !== '/') {
		filePath = url
	}
	fs.readFile(wwwDir + filePath, function(err, data) {
		if(err) {
			return res.end('404 Not Found.')
		}
		res.end(data)
	})
})

server.listen(3000, function() {
	console.log('running...')
})
```